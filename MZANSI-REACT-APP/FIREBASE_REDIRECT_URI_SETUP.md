# Firebase Redirect URI Setup - Quick Reference

## üéØ Required Redirect URI

Add this exact URI to your Firebase Console:

```
https://auth.expo.io/@mn15loner/mzansi-react
```

## üìã Step-by-Step Instructions

### 1. Open Firebase Console
- Go to [Firebase Console](https://console.firebase.google.com/)
- Select your project: **mzansi-react**

### 2. Navigate to Google Authentication Settings
- Click **Authentication** in the left sidebar
- Click **Sign-in method** tab
- Find **Google** in the providers list
- Click on **Google** to open settings

### 3. Add the Redirect URI
- Scroll down to **Authorized redirect URIs** section
- Click **Add URI**
- Paste: `https://auth.expo.io/@mn15loner/mzansi-react`
- Click **Save**

### 4. Verify Authorized Domain
- In the same settings, scroll to **Authorized domains**
- Ensure `auth.expo.io` is listed
- If not, click **Add domain** and add: `auth.expo.io`

## ‚úÖ Verification

When you start your app, check the console logs for:
```
üîó Google Auth Redirect URI: https://auth.expo.io/@mn15loner/mzansi-react
üìù Add this URI to Firebase Console > Authentication > Google > Authorized redirect URIs
```

This confirms the redirect URI is correctly configured in your app.

## üîç Why This URI?

- **`https://auth.expo.io`** - Expo's AuthSession proxy service
- **`@mn15loner`** - Your Expo username
- **`mzansi-react`** - Your app slug (from `app.config.js`)

This URI is automatically generated by `makeRedirectUri({ useProxy: true })` and works for:
- ‚úÖ Expo Go (development)
- ‚úÖ Standalone builds (production)
- ‚úÖ All platforms (iOS, Android, Web)

## ‚ö†Ô∏è Common Issues

### "redirect_uri_mismatch" Error
**Cause**: The redirect URI is not added to Firebase Console.

**Solution**: 
1. Double-check the URI in Firebase matches exactly: `https://auth.expo.io/@mn15loner/mzansi-react`
2. Make sure there are no extra spaces or characters
3. Click **Save** in Firebase Console
4. Wait a few minutes for changes to propagate

### Different Redirect URI in Console Logs
**Cause**: The app is generating a different URI than expected.

**Solution**:
1. Check the console logs when the app starts
2. Copy the exact URI from the logs
3. Add that URI to Firebase Console

## üì± Testing

After adding the redirect URI:

1. Restart your Expo development server
2. Open the app in Expo Go
3. Navigate to the Login screen
4. Tap **Sign in with Google**
5. Complete the Google sign-in flow
6. You should be redirected back to the app successfully

## üöÄ Production Builds

The same redirect URI (`https://auth.expo.io/@mn15loner/mzansi-react`) will work for production builds because:
- The app uses `useProxy: true` in the AuthSession configuration
- Expo's proxy handles the redirect for all build types
- No additional configuration needed for standalone apps

## üìö Additional Resources

- [Expo AuthSession Documentation](https://docs.expo.dev/versions/latest/sdk/auth-session/)
- [Firebase OAuth Redirect URIs](https://firebase.google.com/docs/auth/web/redirect-best-practices)
- [Google OAuth 2.0 Documentation](https://developers.google.com/identity/protocols/oauth2)
